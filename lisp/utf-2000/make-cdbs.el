(defvar system-char-database-directory
  (expand-file-name "char-db"
		    (or exec-directory
			"../lib-src/")))

(when (or load-ignore-elc-files
	  (not (file-exists-p system-char-database-directory)))
  (condition-case nil
      (call-process "rm" nil nil nil "-rf" system-char-database-directory)
    (error nil))
  (load "isolated-char")
  (load "u00000-C0")
  (load "u00020-Basic-Latin")
  (load "u00080-C1")
  (load "u000A0-Latin-1-Supplement")
  (load "u00100-Latin-Extended-A")
  (load "u00180-Latin-Extended-B")
  (load "u00250-IPA-Extensions")
  (load "u002B0-Spacing-Modifier-Letters")
  (load "u00300-Combining-Diacritical-Marks")
  (load "u00370-Greek")
  (load "u00400-Cyrillic")
  (load "u00530-Armenian")
  (load "u00590-Hebrew")
  (load "u00600-Arabic")
  (load "u00700-Syriac")
  (load "u00780-Thaana")
  (load "u00900-Devanagari")
  (load "u00980-Bengali")
  (load "u00A00-Gurmukhi")
  (load "u00A80-Gujarati")
  (load "u00B00-Oriya")
  (load "u00B80-Tamil")
  (load "u00C00-Telugu")
  (load "u00C80-Kannada")
  (load "u00D00-Malayalam")
  (load "u00D80-Sinhala")
  (load "u00E00-Thai")
  (load "u00E80-Lao")
  (load "u00F00-Tibetan")
  (load "u01000-Myanmar")
  (load "u010A0-Georgian")
  (load "u01100-Hangul-Jamo")
  (load "u01200-Ethiopic")
  (load "u013A0-Cherokee")
  (load "u01400-Canadian")
  (load "u01680-Ogham")
  (load "u016A0-Runic")
  (load "u01780-Khmer")
  (load "u01800-Mongolian")
  (load "u01E00-Latin-Extended-Additional")
  (load "u01F00-Greek-Extended")
  (load "u02000-General-Punctuation")
  (load "u02070-Superscripts")
  (load "u02080-Subscripts")
  (load "u020A0-Currency-Symbols")
  (load "u020D0-Combining-Diacritical-Marks-for-Symbols")
  (load "u02100-Letterlike-Symbols")
  (load "u02150-Number-Forms")
  (load "u02190-Arrows")
  (load "u02200-Mathematical-Operators")
  (load "u02300-Miscellaneous-Technical")
  (load "u02400-Control-Pictures")
  (load "u02440-OCR")
  (load "u02460-Enclosed-Alphanumerics")
  (load "u02500-Box-Drawing")
  (load "u02580-Block-Elements")
  (load "u025A0-Geometric-Shapes")
  (load "u02600-Miscellaneous-Symbols")
  (load "u02700-Dingbats")
  (load "u02800-Braille-Patterns")
  (load "u02E00-CJK-Radical-Supplement")
  (load "u02F00-Kangxi-Radicals")
  (load "u02FF0-Ideographic-Description-Characters")
  (load "u03000-CJK-Symbols-and-Punctuation")
  (load "u03040-Hiragana")
  (load "u030A0-Katakana")
  (load "u03100-Bopomofo")
  (load "u03130-Hangul-Compatibility-Jamo")
  (load "u03190-Kanbun")
  (load "u031A0-Bopomofo-Extended")
  (load "u03200-Enclosed-CJK-Letters-and-Months")
  (load "u03300-CJK-Compatibility")
  (load "Ideograph-R001-One")
  (load "Ideograph-R002-Line")
  (load "Ideograph-R003-Dot")
  (load "Ideograph-R004-Slash")
  (load "Ideograph-R005-Second")
  (load "Ideograph-R006-Hook")
  (load "Ideograph-R007-Two")
  (load "Ideograph-R008-Lid")
  (load "Ideograph-R009-Man")
  (load "Ideograph-R010-Legs")
  (load "Ideograph-R011-Enter")
  (load "Ideograph-R012-Eight")
  (load "Ideograph-R013-Down-Box")
  (load "Ideograph-R014-Cover")
  (load "Ideograph-R015-Ice")
  (load "Ideograph-R016-Table")
  (load "Ideograph-R017-Open-Box")
  (load "Ideograph-R018-Knife")
  (load "Ideograph-R019-Power")
  (load "Ideograph-R020-Wrap")
  (load "Ideograph-R021-Spoon")
  (load "Ideograph-R022-Right-Open-Box")
  (load "Ideograph-R023-Hiding-Enclosure")
  (load "Ideograph-R024-Ten")
  (load "Ideograph-R025-Divination")
  (load "Ideograph-R026-Seal")
  (load "Ideograph-R027-Cliff")
  (load "Ideograph-R028-Private")
  (load "Ideograph-R029-Again")
  (load "Ideograph-R030-Mouth")
  (load "Ideograph-R031-Enclosure")
  (load "Ideograph-R032-Earth")
  (load "Ideograph-R033-Scholar")
  (load "Ideograph-R034-Go")
  (load "Ideograph-R035-Go-Slowly")
  (load "Ideograph-R036-Evening")
  (load "Ideograph-R037-Big")
  (load "Ideograph-R038-Woman")
  (load "Ideograph-R039-Child")
  (load "Ideograph-R040-Roof")
  (load "Ideograph-R041-Inch")
  (load "Ideograph-R042-Small")
  (load "Ideograph-R043-Lame")
  (load "Ideograph-R044-Corpse")
  (load "Ideograph-R045-Sprout")
  (load "Ideograph-R046-Mountain")
  (load "Ideograph-R047-River")
  (load "Ideograph-R048-Work")
  (load "Ideograph-R049-Oneself")
  (load "Ideograph-R050-Turban")
  (load "Ideograph-R051-Dry")
  (load "Ideograph-R052-Short-Thread")
  (load "Ideograph-R053-Dotted-Cliff")
  (load "Ideograph-R054-Long-Stride")
  (load "Ideograph-R055-Two-Hands")
  (load "Ideograph-R056-Shoot")
  (load "Ideograph-R057-Bow")
  (load "Ideograph-R058-Snout")
  (load "Ideograph-R059-Bristle")
  (load "Ideograph-R060-Step")
  (load "Ideograph-R061-Heart")
  (load "Ideograph-R062-Halberd")
  (load "Ideograph-R063-Door")
  (load "Ideograph-R064-Hand")
  (load "Ideograph-R065-Branch")
  (load "Ideograph-R066-Rap")
  (load "Ideograph-R067-Script")
  (load "Ideograph-R068-Dipper")
  (load "Ideograph-R069-Axe")
  (load "Ideograph-R070-Square")
  (load "Ideograph-R071-Not")
  (load "Ideograph-R072-Sun")
  (load "Ideograph-R073-Say")
  (load "Ideograph-R074-Moon")
  (load "Ideograph-R075-Tree")
  (load "Ideograph-R076-Lack")
  (load "Ideograph-R077-Stop")
  (load "Ideograph-R078-Death")
  (load "Ideograph-R079-Weapon")
  (load "Ideograph-R080-Do-Not")
  (load "Ideograph-R081-Compare")
  (load "Ideograph-R082-Fur")
  (load "Ideograph-R083-Clan")
  (load "Ideograph-R084-Steam")
  (load "Ideograph-R085-Water")
  (load "Ideograph-R086-Fire")
  (load "Ideograph-R087-Claw")
  (load "Ideograph-R088-Father")
  (load "Ideograph-R089-Double-X")
  (load "Ideograph-R090-Half-Tree-Trunk")
  (load "Ideograph-R091-Slice")
  (load "Ideograph-R092-Fang")
  (load "Ideograph-R093-Cow")
  (load "Ideograph-R094-Dog")
  (load "Ideograph-R095-Profound")
  (load "Ideograph-R096-Jade")
  (load "Ideograph-R097-Melon")
  (load "Ideograph-R098-Tile")
  (load "Ideograph-R099-Sweet")
  (load "Ideograph-R100-Life")
  (load "Ideograph-R101-Use")
  (load "Ideograph-R102-Field")
  (load "Ideograph-R103-Bolt-Of-Cloth")
  (load "Ideograph-R104-Sickness")
  (load "Ideograph-R105-Dotted-Tent")
  (load "Ideograph-R106-White")
  (load "Ideograph-R107-Skin")
  (load "Ideograph-R108-Dish")
  (load "Ideograph-R109-Eye")
  (load "Ideograph-R110-Spear")
  (load "Ideograph-R111-Arrow")
  (load "Ideograph-R112-Stone")
  (load "Ideograph-R113-Spirit")
  (load "Ideograph-R114-Track")
  (load "Ideograph-R115-Grain")
  (load "Ideograph-R116-Cave")
  (load "Ideograph-R117-Stand")
  (load "Ideograph-R118-Bamboo")
  (load "Ideograph-R119-Rice")
  (load "Ideograph-R120-Silk")
  (load "Ideograph-R121-Jar")
  (load "Ideograph-R122-Net")
  (load "Ideograph-R123-Sheep")
  (load "Ideograph-R124-Feather")
  (load "Ideograph-R125-Old")
  (load "Ideograph-R126-And")
  (load "Ideograph-R127-Plow")
  (load "Ideograph-R128-Ear")
  (load "Ideograph-R129-Brush")
  (load "Ideograph-R130-Meat")
  (load "Ideograph-R131-Minister")
  (load "Ideograph-R132-Self")
  (load "Ideograph-R133-Arrive")
  (load "Ideograph-R134-Mortar")
  (load "Ideograph-R135-Tongue")
  (load "Ideograph-R136-Oppose")
  (load "Ideograph-R137-Boat")
  (load "Ideograph-R138-Stopping")
  (load "Ideograph-R139-Color")
  (load "Ideograph-R140-Grass")
  (load "Ideograph-R141-Tiger")
  (load "Ideograph-R142-Insect")
  (load "Ideograph-R143-Blood")
  (load "Ideograph-R144-Walk-Enclosure")
  (load "Ideograph-R145-Clothes")
  (load "Ideograph-R146-West")
  (load "Ideograph-R147-See")
  (load "Ideograph-R148-Horn")
  (load "Ideograph-R149-Speech")
  (load "Ideograph-R150-Valley")
  (load "Ideograph-R151-Bean")
  (load "Ideograph-R152-Pig")
  (load "Ideograph-R153-Badger")
  (load "Ideograph-R154-Shell")
  (load "Ideograph-R155-Red")
  (load "Ideograph-R156-Run")
  (load "Ideograph-R157-Foot")
  (load "Ideograph-R158-Body")
  (load "Ideograph-R159-Cart")
  (load "Ideograph-R160-Bitter")
  (load "Ideograph-R161-Morning")
  (load "Ideograph-R162-Walk")
  (load "Ideograph-R163-City")
  (load "Ideograph-R164-Wine")
  (load "Ideograph-R165-Distinguish")
  (load "Ideograph-R166-Village")
  (load "Ideograph-R167-Gold")
  (load "Ideograph-R168-Long")
  (load "Ideograph-R169-Gate")
  (load "Ideograph-R170-Mound")
  (load "Ideograph-R171-Slave")
  (load "Ideograph-R172-Short-Tailed-Bird")
  (load "Ideograph-R173-Rain")
  (load "Ideograph-R174-Blue")
  (load "Ideograph-R175-Wrong")
  (load "Ideograph-R176-Face")
  (load "Ideograph-R177-Leather")
  (load "Ideograph-R178-Tanned-Leather")
  (load "Ideograph-R179-Leek")
  (load "Ideograph-R180-Sound")
  (load "Ideograph-R181-Leaf")
  (load "Ideograph-R182-Wind")
  (load "Ideograph-R183-Fly")
  (load "Ideograph-R184-Eat")
  (load "Ideograph-R185-Head")
  (load "Ideograph-R186-Fragrant")
  (load "Ideograph-R187-Horse")
  (load "Ideograph-R188-Bone")
  (load "Ideograph-R189-Tall")
  (load "Ideograph-R190-Hair")
  (load "Ideograph-R191-Fight")
  (load "Ideograph-R192-Sacrificial-Wine")
  (load "Ideograph-R193-Cauldron")
  (load "Ideograph-R194-Ghost")
  (load "Ideograph-R195-Fish")
  (load "Ideograph-R196-Bird")
  (load "Ideograph-R197-Salt")
  (load "Ideograph-R198-Deer")
  (load "Ideograph-R199-Wheat")
  (load "Ideograph-R200-Hemp")
  (load "Ideograph-R201-Yellow")
  (load "Ideograph-R202-Millet")
  (load "Ideograph-R203-Black")
  (load "Ideograph-R204-Embroidery")
  (load "Ideograph-R205-Frog")
  (load "Ideograph-R206-Tripod")
  (load "Ideograph-R207-Drum")
  (load "Ideograph-R208-Rat")
  (load "Ideograph-R209-Nose")
  (load "Ideograph-R210-Even")
  (load "Ideograph-R211-Tooth")
  (load "Ideograph-R212-Dragon")
  (load "Ideograph-R213-Turtle")
  (load "Ideograph-R214-Flute")
  (load "u0A000-Yi-Syllables")
  (load "u0AC00-Hangul-Syllables")
  (load "u0E000-Private-Use")
  (load "u0FB00-Alphabetic-Presentation-Forms")
  (load "u0FB50-Arabic-Presentation-Forms-A")
  (load "u0FE20-Combining-Half-Marks")
  (load "u0FE30-CJK-Compatibility-Forms")
  (load "u0FE50-Small-Form-Variants")
  (load "u0FE70-Arabic-Presentation-Forms-B")
  (load "u0FF00-Halfwidth-and-Fullwidth-Forms")
  (load "u0FFF0-Specials")
          ;(when-feature utf-2000 "mojikyo")
  (load "ad-hoc-cdp")
  (load "ccs-tcvn5712.el")
	
  (dolist (attribute (char-attribute-list))
    (save-char-attribute-table attribute))

  (dolist (ccs (charset-list))
    (save-charset-mapping-table ccs)))

(mapcar (lambda (file)
	  (reset-char-attribute-table (intern file)))
	(directory-files
	 (expand-file-name "system-char-id"
			   system-char-database-directory)
	 nil nil t t))

(garbage-collect)
